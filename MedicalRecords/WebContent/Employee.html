<!DOCTYPE html>
<html lang="en-US">
<head>
<title>Amclin App</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet"
	href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script
	src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script
	src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>

</head>
<body ng-app="amclinapp">
	<div id="header"></div>
	<div class="container">
		<h3>Employee</h3>
		<div ng-controller="MyController">
			<div id="formDiv">
				<form role="form" visible="true">
					<div class="row">
						<div class="col-sm-4">
							<div class="form-group">
								<label for="fname">First Name:</label> <input type="text"
									class="form-control" id="fname" ng-model="employee.firstName">
							</div>
							<div class="form-group">
								<label for="lname">Last Name:</label> <input type="text"
									class="form-control" id="lname" ng-model="employee.lastName">
							</div>

							<div class="form-group">
								<label for="addr1">Address Line1:</label> <input type="text"
									class="form-control" id="addr1" ng-model="employee.addressLine1">
							</div>

							<div class="form-group">
								<label for="addr2">Address Line2:</label> <input type="text"
									class="form-control" id="addr2" ng-model="employee.addressLine2">
							</div>
							<div class="form-group">
								<label for="city">City:</label> <input type="text"
									class="form-control" id="city" ng-model="employee.city">
							</div>

							<div class="form-group">
								<label for="pin">PIN:</label> <input type="text"
									class="form-control" id="pin" ng-model="employee.pin">
							</div>
							<div class="form-group">
								<label for="mobile">Mobile No.:</label> <input type="text"
									class="form-control" id="mobile"
									ng-model="employee.moboileNo">
							</div>
						</div>
					</div>

					<button type="submit" class="btn btn-primary"
						ng-click="clickDiv.saveEmployeeInfo()">Submit</button>
					<button type="button" class="btn btn-default"
						ng-click="clickDiv.cancelBtn()">Cancel</button>
				</form>
			</div>
			<PanelFooter>
			<div class="col-sm-12">
				<div id="actionMsgDiv" class="panel panel-success hidden">
					<div class="panel-heading">Patient Added Successfully.</div>
					<div class="panel-body">

						<button type="submit" class="btn btn-primary"
							ng-click="clickDiv.addEmployee()">Add New Employee</button>
						<button type="submit" class="btn btn-primary"
							ng-click="clickDiv.cancelBtn()">Home</button>
					</div>
				</div>

			</div>
			</PanelFooter>
		</div>
	</div>


	<script>
 		angular.module("amclinapp", []).controller("MyController",
				function($scope) {
					$scope.clickDiv = {};

					$scope.employee = {};
					$scope.employee.firstName = "";
					$scope.employee.lastName ="";
					$scope.employee.addr1 ="";				
					$scope.employee.addr2 ="";
					$scope.employee.city ="";
					$scope.employee.pin ="";
					$scope.employee.mobileNumber ="";

					$scope.clickDiv.saveEmployeeInfo = function(){
						gapi.client.employeeservice.saveEmployee(
								$scope.employee).execute(function(resp){
								
									alert(resp.data);
								
								$("#formDiv").removeClass('hidden');
								$("#actionMsgDiv").addClass('hidden');
					});
				}


							$scope.clickDiv.addEmployee = function() {
								$scope.employee.firstName = "";
								$scope.employee.lastName ="";
								$scope.employee.addr1 ="";				
								$scope.employee.addr2 ="";
								$scope.employee.city ="";
								$scope.employee.pin ="";
								$scope.employee.mobileNumber ="";
								
								$("#formDiv").hide();
								$("#actionMsgDiv").show();
/* 								$("#formDiv").removeClass('hidden');
								$("#actionMsgDiv").addClass('hidden'); */
							}

							$scope.clickDiv.cancelBtn = function() {
								document.location = '/index.html';
							}

						});
	</script>

	<script>
		function init() {

			var apiRoot = '//' + window.location.host + '/_ah/api';

			// Loads the OAuth and helloworld APIs asynchronously, and triggers login
			// when they have completed.
			var apisToLoad;

			var callback = function() {
				//alert("Inside callback111 : apiRoot: " + apiRoot);
			};

			apisToLoad = 2; // must match number of calls to gapi.client.load()
			gapi.client.load('employeeservice', 'v0.1', callback, apiRoot);

		}
	</script>
	<script src="https://apis.google.com/js/client.js?onload=init"></script>
	<script>
		$(function() {
			$("#header").load("header.html");
			$("#footer").load("footer.html");
		});
	</script>
	<!--Remaining section-->
	<div id="footer"></div>
</body>
</html>