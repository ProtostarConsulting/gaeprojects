
<md-content layout-padding>

<div ng-cloak>
	<h3 class="md-display-10">Users</h3>
	<md-content> <md-tabs md-dynamic-height md-border-bottom>
	<md-tab label="Active"> <md-content class="md-padding">

	<div layout layout-sm="column">
		<md-input-container flex> <label>Search</label> <input
			ng-model="searchText"> </md-input-container>
	</div>


	<div>
		<md-data-table-container>

		<table md-data-table md-row-select="selected" md-progress="deferred">
			<thead md-order="query.order" md-trigger="onOrderChange">
				<tr>
					<th name="First Name" order-by="fName"></th>
					<th name="Last Name" order-by="lName"></th>
					<th name="Email" order-by="email"></th>
					<th name="Edit" order-by="Edit"></th>
				</tr>
			</thead>

			<tbody>
				<tr md-auto-select
					ng-repeat="user in activeUsers | orderBy: query.order | limitTo: query.limit: (query.page - 1) * query.limit">
					<td>{{user.firstName}}</td>
					<td>{{user.lastName}}</td>
					<td>{{user.email_id}}</td>
					<td>
						<section layout="row" layout-sm="column" >
							<md-button class="md-raised md-primary" ng-hide="businessNo"
								ui-sref="setup.userview({selecteduserNo:user.id})">View
							user setup</md-button>
							<md-button class="md-raised md-primary" ng-show="businessNo"
								ui-sref="proAdmin.editBusiness.userview({selecteduserNo:user.id})">View
							user probusiness</md-button>
						</section>
					</td>
				</tr>
			</tbody>
		</table>

		<md-data-table-pagination md-limit="query.limit" md-page="query.page"
			md-total={{users.length}} md-trigger="onpagechange"></md-data-table-pagination>
		</md-data-table-container>
	</div>

	

<div id="changeState" ng-show="selected.length == 1">

	<md-button class="md-raised md-primary" 
			ng-click="inactiveUserStatus()">Inactive
		</md-button>
		
	<md-button class="md-raised md-primary" ng-model="suspend" value="suspend"
			ng-click="suspendUserStatus()">Suspend
		</md-button>

 <md-button class="md-primary md-raised" ng-hide="selected[0].isGoogleUser" ng-click="notGoogleUser($event)" >
      Change Password
    </md-button>
    
     <md-button class="md-primary md-raised" ng-hide="selected[0].isGoogleUser" ng-click="changePassword($event)">
      Change Password1
    </md-button>

</div>

<div layout layout-sm="column" ng-hide="IsHidden">
			<md-input-container flex  ng-hide="selected[0].isGoogleUser"> 	
			   <md-button class="md-primary md-raised" ng-click="showAdvanced($event)">
     							 Custom Dialog
    		   </md-button>
			 </md-input-container>
			 
				<md-input-container flex  ng-show="selected[0].isGoogleUser"> 
				<a target="_blank" href="https://www.google.com/settings/passwordchange">Link Change Password</a>
			 </md-input-container>
			
</div>

		</md-content> </md-tab> 
		
<md-tab label="Inactive"> <md-content class="md-padding">
	<!-- 	<h3 class="md-display-10">Day</h3> -->
	<div layout layout-sm="column">
		<md-input-container flex> <label>Search</label> <input
			ng-model="searchText"> </md-input-container>
	</div>
	<div>
		<md-data-table-container>

		<table md-data-table md-row-select="selected" md-progress="deferred">
			<thead md-order="query.order" md-trigger="onOrderChange">
				<tr>
					<th name="First Name" order-by="fName"></th>
					<th name="Last Name" order-by="lName"></th>
					<th name="Email" order-by="email"></th>
					<th name="Edit" order-by="Edit"></th>
				</tr>
			</thead>

			<tbody>
				<tr md-auto-select
					ng-repeat="user in inActiveUsers | orderBy: query.order | limitTo: query.limit: (query.page - 1) * query.limit"">
					<td>{{user.firstName}}</td>
					<td>{{user.lastName}}</td>
					<td>{{user.email_id}}</td>
					<td>
						<section layout="row" layout-sm="column">
							<md-button class="md-raised md-primary"
								ui-sref="setup.userview({selecteduserNo:user.id})">View
							user</md-button>
						</section>
					</td>
				</tr>
			</tbody>
		</table>

		<md-data-table-pagination md-limit="query.limit" md-page="query.page"
			md-total={{users.length}} md-trigger="onpagechange"></md-data-table-pagination>
		</md-data-table-container>
	</div>
	
<div ng-show="selected.length == 1">

 
 	<md-button class="md-raised md-primary" 
			ng-click="activeUserStatus()">Active
		</md-button>
		
	<md-button class="md-raised md-primary" ng-model="suspend" value="suspend"
			ng-click="suspendUserStatus()">Suspend
 		</md-button>

  <md-button class="md-primary md-raised" ng-hide="selected[0].isGoogleUser">
      Change Password
    </md-button>
    

</div>

</md-content> </md-tab> 
	
	<md-tab label="Suspended"> <md-content class="md-padding">
	<!-- 	<h3 class="md-display-10">Month</h3> -->
	
		<div layout layout-sm="column">
		<md-input-container flex> <label>Search</label> <input
			ng-model="searchText"> </md-input-container>
	</div>
	
	<div>
		<md-data-table-container>

		<table md-data-table md-row-select="selected" md-progress="deferred">
			<thead md-order="query.order" md-trigger="onOrderChange">
				<tr>
					<th name="First Name" order-by="fName"></th>
					<th name="Last Name" order-by="lName"></th>
					<th name="Email" order-by="email"></th>
					<th name="Edit" order-by="Edit"></th>
				</tr>
			</thead>

			<tbody>
				<tr md-auto-select
					ng-repeat="user in suspendedUsers | orderBy: query.order | limitTo: query.limit: (query.page - 1) * query.limit"">
					<td>{{user.firstName}}</td>
					<td>{{user.lastName}}</td>
					<td>{{user.email_id}}</td>
					<td>
						<section layout="row" layout-sm="column">
							<md-button class="md-raised md-primary"
								ui-sref="setup.userview({selecteduserNo:user.id})">View
							user</md-button>
						</section>
					</td>
				</tr>
			</tbody>
		</table>

		<md-data-table-pagination md-limit="query.limit" md-page="query.page"
			md-total={{suspendedUsers.length}} md-trigger="onpagechange"></md-data-table-pagination>
		</md-data-table-container>
	</div>

<div ng-show="selected.length == 1">

  	<md-button class="md-raised md-primary" 
			ng-click="activeUserStatus()">Active
		</md-button>
		
	<md-button class="md-raised md-primary" ng-model="suspend" value="suspend"
			ng-click="inactiveUserStatus()">Inactive
		</md-button>

  <md-button class="md-primary md-raised" ng-hide="selected[0].isGoogleUser">
      Change Password
    </md-button>
    

   </div>

	</md-content>
</md-tab>

</div></md-content>
