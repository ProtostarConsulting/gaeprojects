<md-content layout-padding flex>
<form name="employeeForm" layout="column">

	<section layout="row" layout-xs="column">
		<md-subheader class="md-primary">
		<h4 class="md-title">Employee Leave Detail</h4>
		</md-subheader>
		<span flex></span>
		<div layout="row" flex="40" flex-sm="50" flex-xs="100">
			<md-input-container flex> <md-select
				placeholder="Select Month" ng-model="selectedMonth"
				ng-change="monthSelectChange(selectedMonth)"
				aria-label="selectedMonth" id="month" name="month"
				ng-required="true"> <md-option ng-value="item"
				ng-repeat="item in monthList">{{item}} </md-option> </md-select> </md-input-container>

			<md-input-container flex> <label>Search
				Employee</label> <input ng-model="searchText"> </md-input-container>
		</div>
	</section>
	<div ng-if="loading">
		<div layout="row" layout-sm="column" layout-align="space-around">
			<md-progress-circular md-diameter="60" md-mode="indeterminate">
			<lable style="color:red">Entry of current month in Leave
			Detail not Done Please do it First!</lable></md-progress-circular>
		</div>
	</div>


	<div ng-if="worning">
		<lable style="color:red">Entry of Previous month Detail not
		Done Please do it First!</lable>
	</div>

	<div ng-if="!loading">
		<div ng-if="!worning">
			<table md-data-table md-progress="deferred">
				<thead md-order="query.order" md-trigger="onOrderChange">
					<tr>
						<th ng-style="getFormRowStyle()" name="Emp. No."
							order-by="user.employeeDetail.empId"></th>
						<th ng-style="getFormRowStyle()" name="Employee Name"></th>
						<th ng-style="getFormRowStyle()" name="Department"></th>
						<th ng-style="getFormRowStyle()" name="Opening Balance"></th>
						<th ng-style="getFormRowStyle()" name="This Month Add"></th>
						<th ng-style="getFormRowStyle()" name="Leave Laken"></th>
						<th ng-style="getFormRowStyle()" name="Overtime in Days"></th>
						<th ng-style="getFormRowStyle()" name="Without Pay"></th>
						<th ng-style="getFormRowStyle()" name="Month Leave Balance"></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-style="getFormRowStyle()"
						ng-repeat="empLeaveDetailObj in employeeLeaveDetailsList | filter:searchText | limitTo: query.limit: (query.page - 1) * query.limit">

						<td style="margin: 0; padding-left: 5px; padding-right: 5px;">
							<b ng-bind="empLeaveDetailObj.user.employeeDetail.empId"> </b>
						</td>
						<td ng-style="getFormRowStyle()"><span
							ng-bind="empLeaveDetailObj.user.firstName + ' ' +empLeaveDetailObj.user.lastName"
							ng-style="highlightRed(monthlyPayObj.payableDays)"> </span></td>
						<td ng-style="getFormRowStyle()"><span
							ng-bind="empLeaveDetailObj.user.department.name"> </span></td>

						<td ng-style="getFormRowStyle()"><span
							ng-bind="empLeaveDetailObj.openingBalance"> </span></td>
						<!-- <td ng-style="getFormRowStyle()"><md-input-container
							ng-style="getFormRowStyle()"> <input
							ng-model="empLeaveDetailObj.openingBalance" type="number"
							ng-change="calculation (empLeaveDetailObj)" aria-label = "openingBalance"> </md-input-container></td> -->
						<td ng-style="getFormRowStyle()"><md-input-container
								ng-style="getFormRowStyle()"> <input
								ng-model="empLeaveDetailObj.mothLeave" type="number"
								ng-change="calculation (empLeaveDetailObj)"
								aria-label="mothLeave"> </md-input-container></td>
						<td ng-style="getFormRowStyle()"><md-input-container
								ng-style="getFormRowStyle()"> <input
								ng-model="empLeaveDetailObj.takenmothLeave" type="number"
								ng-change="calculation (empLeaveDetailObj)"
								aria-label="takenmothLeave"> </md-input-container></td>
						<td ng-style="getFormRowStyle()"><md-input-container
								ng-style="getFormRowStyle()"> <input
								ng-model="empLeaveDetailObj.overtimeDays" type="number"
								ng-change="calculation (empLeaveDetailObj)"
								aria-label="takenmothLeave"> </md-input-container></td>
						<td ng-style="getFormRowStyle()"><span
							ng-bind="empLeaveDetailObj.withoutpay"
							ng-style="getHighlightRedStyle(empLeaveDetailObj.withoutpay)">
						</span></td>
						<td ng-style="getFormRowStyle()"><span
							ng-bind="empLeaveDetailObj.nextOpeningBalance"> </span></td>
					</tr>
				</tbody>
			</table>
		</div>
		<md-data-table-pagination md-limit="query.limit" md-page="query.page"
			md-total={{employeeLeaveDetailsList.length}}
			md-trigger="onpagechange"></md-data-table-pagination>
		</md-data-table-container>
		<div>
			<md-button class="md-raised md-primary"
				ng-disabled="employeeForm.$invalid || employeeForm.$pristine || employeeForm.$touched"
				ng-click="saveLeaveDetailList()">Save</md-button>
		</div>
	</div>
</form>
</md-content>